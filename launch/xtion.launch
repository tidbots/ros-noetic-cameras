<launch>
  <arg name="name" default="xtion"/>

  <!-- openni2_launch -->
  <arg name="device_id" default="#1"/>
  <arg name="camera" default="camera"/>

  <arg name="rgb_camera_info_url"   default="file:///root/.ros/camera_info/xtion_rgb.yaml"/>
  <arg name="depth_camera_info_url" default="file:///root/.ros/camera_info/xtion_depth.yaml"/>

  <arg name="out_image" default="/camera/image_raw"/>
  <arg name="out_info"  default="/camera/camera_info"/>

  <arg name="in_image" default="/$(arg name)/$(arg camera)/rgb/image_raw"/>
  <arg name="in_info"  default="/$(arg name)/$(arg camera)/rgb/camera_info"/>

  <group ns="$(arg name)">
    <include file="$(find openni2_launch)/launch/openni2.launch">
      <arg name="camera" value="$(arg camera)"/>
      <arg name="device_id" value="$(arg device_id)"/>
      <arg name="rgb_camera_info_url"   value="$(arg rgb_camera_info_url)"/>
      <arg name="depth_camera_info_url" value="$(arg depth_camera_info_url)"/>
      <!-- <arg name="depth_registration" value="false"/> -->
    </include>
  </group>

  <node pkg="topic_tools" type="relay" name="xtion_rgb_relay"
        args="$(arg in_image) $(arg out_image)" output="screen"/>

  <node pkg="topic_tools" type="relay" name="xtion_info_relay"
        args="$(arg in_info) $(arg out_info)" output="screen"/>
</launch>
